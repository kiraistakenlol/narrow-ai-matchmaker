# Profile Update Cycle
direction: down

styles: {
  doc: { shape: rectangle; style: { fill: '#f5f5f5'; stroke: '#333'; border-radius: 5 } }
  llm: { shape: rectangle; style: { fill: '#e1f5e7'; stroke: '#5c6bc0'; border-radius: 5 } }
  db:  { shape: cylinder;  style: { fill: '#fff2cc'; stroke: '#f0a202' } }
  search: { shape: rectangle; style: { fill: '#d5e8d4'; stroke: '#82b366'; border-radius: 5 } }
}

CurrentDesc: { class: doc; label: 'Current Description (Natural Language)' }
LLMProcess: { class: llm; label: 'LLM Processing: Combine Current + Update' }
NewDesc: { class: doc; label: 'New Description (Natural Language)' }
VectorEmbed: { class: db; label: 'Embed & Store General Vector' }
SimilaritySearch: { class: search; label: 'Similarity Search (General Matching)' }

CurrentDesc -> LLMProcess
LLMProcess -> NewDesc
NewDesc -> VectorEmbed
VectorEmbed -> SimilaritySearch

Note: |md
  This cycle keeps the user vector in sync with the latest
  human-readable description via LLM and vector embedding.
|
Note.style: { fill: '#f5f5f5'; stroke: '#333'; border-radius: 5 } 