# Flexible Matching Architecture Overview
direction: down

styles: {
  entity: { shape: rectangle; style: { fill: '#e1f5fe'; stroke: '#0277bd'; border-radius: 5 } }
  process: { shape: rectangle; style: { fill: '#f3e5f5'; stroke: '#6a1b9a'; border-radius: 5 } }
  vectordb: { shape: cylinder; style: { fill: '#fff2cc'; stroke: '#d6b656' } }
}

# Components
UserProfile: { class: entity; label: 'User Profile (Natural Language)' }
ProfileCycle: { class: process; label: 'Profile Update Cycle' }
GeneralVectorDB: { class: vectordb; label: 'General Vector (in Qdrant)' }
ParticipantEntity: { class: entity; label: 'Participant Entity (User + Event)' }
ParticipantCycle: { class: process; label: 'Participant Creation Cycle' }
EventVectorDB: { class: vectordb; label: 'Event-Specific Vector (in Qdrant)' }
MatchingSearch: { class: process; label: 'Contextual Matching (Search & Weighting)' }

TopMatches: { class: process; label: 'Top N Matches' }

# Flow
UserProfile -> ProfileCycle
ProfileCycle -> GeneralVectorDB
UserProfile -> ParticipantEntity
ParticipantEntity -> ParticipantCycle
ParticipantCycle -> EventVectorDB
GeneralVectorDB -> MatchingSearch
EventVectorDB -> MatchingSearch
MatchingSearch -> TopMatches

Note: |md
  This diagram shows how general profile updates and event-specific participant vectors feed into the matching search.
|
Note.style: { fill: '#f5f5f5'; stroke: '#333'; border-radius: 5 } 